parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"I4sy":[function(require,module,exports) {

},{}],"Focm":[function(require,module,exports) {
"use strict";require("./styles.scss");var e,t,n="https://stage.savemo.app";function o(){u(!1),c(!1),m(!1),r(""),h(""),y(""),l("")}function i(n,i){var c=document.querySelector("#modal"),a=document.querySelector("#modalOverlay"),s=document.querySelector("#closeModal");t=n,c.classList.remove("hidden"),a.classList.remove("hidden"),setTimeout(function(){c.classList.add("duration-150","ease-out","opacity-100","scale-100"),a.classList.add("duration-150","ease-out","opacity-80"),c.classList.remove("opacity-0","scale-95"),a.classList.remove("opacity-0")},2),e=function(){c.classList.remove("opacity-100","scale-100","duration-150","ease-out"),a.classList.remove("opacity-80","duration-150","ease-out"),c.classList.add("duration-100","ease-in","opacity-0","scale-95"),a.classList.add("duration-100","ease-in","opacity-0"),setTimeout(function(){c.classList.add("hidden"),a.classList.add("hidden")},150),o(),s.removeEventListener("click",e)},s.addEventListener("click",e),i&&i(n)}function c(e){var t=document.querySelector("#modalTitle");t.innerHTML=e,e?t.classList.remove("hidden"):t.classList.add("hidden")}function a(){return document.querySelector("#userInput").value}function s(e){var t;return null===(t=document.querySelector(e))||void 0===t?void 0:t.value}function u(e){e?document.querySelector("#modalLoader").classList.remove("hidden"):document.querySelector("#modalLoader").classList.add("hidden")}function r(e){document.querySelector("#userInput").setAttribute("placeholder",e)}function d(e){return/\d{10,10}/.test(e)}function l(e){var t=document.querySelector("#modalErrorMessage");t.innerHTML=e,e?t.classList.remove("hidden"):t.classList.add("hidden")}function m(e){e?document.querySelector("#inputArea").classList.remove("hidden"):document.querySelector("#inputArea").classList.add("hidden")}function f(e){document.querySelector("#userInputSubmit").addEventListener("click",e)}function v(e){document.querySelector("#userInputSubmit").removeEventListener("click",e)}function h(e){document.querySelector("#userInput").value=e}function y(e){var t=document.querySelector("#modalMessage");t.innerHTML=e,e?t.classList.remove("hidden"):t.classList.add("hidden")}function L(e){var t=s("#".concat(e.id,"-input"));d(t)?(u(!0),fetch("".concat(n,"/waitlist/send_otp/").concat(t)).then(function(e){return e.json()}).then(function(e){if(u(!1),console.log(e),2e3===e.code)return p(t),!0;l("Something went wrong from our end. Please try again later")}).catch(function(e){u(!1),l("Something went wrong. Failed to submit phone number")})):c("Please enter a valid phone number and try again")}function p(e){c("Let's verify your number"),m(!0),r("OTP");f(function t(){var n=a();n?S(n,e).then(function(e){e&&v(t)}):l("Invalid OTP")})}function S(e,t){var o=new URL(window.location).searchParams,i={otp:e,utm_campaign:o.get("utm_campaign"),utm_medium:o.get("utm_medium"),utm_source:o.get("utm_source")};return m(!1),u(!0),fetch("".concat(n,"/waitlist/").concat(t),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}).then(function(e){return e.json()}).then(function(e){var n,o;if(u(!1),console.log(e),2e3===e.code)return null!==(n=e.data)&&void 0!==n&&null!==(o=n.user)&&void 0!==o&&o.email?w():g(t,e.data.token),!0;m(!0),l("Invalid OTP")}).catch(function(){u(!1),m(!0),l("Something went wrong while submitting OTP")})}function g(e,t){c("Email"),m(!0),l(""),h(""),r("Email");f(function n(){var o=a();o?q(o,e,t).then(function(e){e&&v(n)}):l("Invalid email")})}function q(e,t,o){var i={token:o};return m(!1),u(!0),fetch("".concat(n,"/").concat(t,"/").concat(window.encodeURIComponent(e)),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}).then(function(e){return e.json()}).then(function(e){if(u(!1),2e3===e.code)return w(),!0;m(!0),l("Error while submitting email")}).catch(function(){m(!0),u(!1),l("Failed to submit email")})}function w(){m(!1),l(""),c("All done!"),y("You've been added to the waitlist"),setTimeout(function(){if(t){var n="#".concat(t.id,"-input"),o=document.querySelector(n);o&&(o.value="")}e&&e()},3e3)}window.onload=function(){var e=document.querySelector("#navOpenButton"),t=document.querySelector("#navLinks"),n=document.querySelector("#navCloseButton"),o=document.querySelectorAll("#getAccessHero, #getAccessBanner");e.addEventListener("click",function(){e.setAttribute("aria-expanded","true"),t.classList.add("duration-150","ease-out"),t.classList.remove("hidden"),setTimeout(function(){t.classList.add("opacity-100","scale-100"),t.classList.remove("opacity-0","scale-95")},2)}),n.addEventListener("click",function(){e.setAttribute("aria-expanded","false"),t.classList.remove("duration-150","ease-out","opacity-100","scale-100"),t.classList.add("duration-100","ease-in","opacity-0","scale-95"),setTimeout(function(){t.classList.add("hidden")},150)}),o&&o.forEach(function(e){e.addEventListener("click",function(e){i(e.target,L)})})};
},{"./styles.scss":"I4sy"}]},{},["Focm"], null)
//# sourceMappingURL=src.ac1b1299.js.map