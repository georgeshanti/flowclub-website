parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"I4sy":[function(require,module,exports) {

},{}],"Focm":[function(require,module,exports) {
"use strict";require("./styles.scss");var e="https://stage.savemo.app";function t(){a(!1),o(!1),s(!1),r(""),v("")}function n(e,n){console.log("Showing modal");var o=document.querySelector("#modal"),i=document.querySelector("#modalOverlay"),c=document.querySelector("#closeModal");n&&n(e),o.classList.remove("hidden"),i.classList.remove("hidden"),c.addEventListener("click",function(){o.classList.add("hidden"),i.classList.add("hidden"),t(),c.removeEventListener("click",this)})}function o(e){var t=document.querySelector("#modalTitle");t.innerHTML=e,e?t.classList.remove("hidden"):t.classList.add("hidden")}function i(){return document.querySelector("#userInput").value}function c(e){var t;return null===(t=document.querySelector(e))||void 0===t?void 0:t.value}function a(e){e?document.querySelector("#modalLoader").classList.remove("hidden"):document.querySelector("#modalLoader").classList.add("hidden")}function r(e){document.querySelector("#userInput").setAttribute("placeholder",e)}function u(e){return/\d{10,10}/.test(e)}function d(e){var t=document.querySelector("#modalErrorMessage");t.innerHTML=e,e?t.classList.remove("hidden"):t.classList.add("hidden")}function s(e){e?document.querySelector("#inputArea").classList.remove("hidden"):document.querySelector("#inputArea").classList.add("hidden")}function l(e){document.querySelector("#userInputSubmit").addEventListener("click",e)}function m(e){document.querySelector("#userInputSubmit").removeEventListener("click",e)}function v(e){document.querySelector("#userInput").value=e}function f(t){var n=c("#".concat(t.id,"-input"));u(n)?(a(!0),fetch("".concat(e,"/waitlist/send_otp/").concat(n)).then(function(e){return e.json()}).then(function(e){a(!1),console.log(e),2e3===e.code?h(n):d("Something went wrong from our side")}).catch(function(e){a(!1),d("Something went wrong. Failed to submit phone number")})):o("Please enter a valid phone number and try again")}function h(e){o("Let's verify your number"),s(!0),r("OTP"),l(function(){var t=i();t?(y(t,e),m(this)):d("Invalid OTP")})}function y(t,n){var o=new URL(window.location).searchParams,i={otp:t,utm_campaign:o.get("utm_campaign"),utm_medium:o.get("utm_medium"),utm_source:o.get("utm_source")};a(!0),fetch("".concat(e,"/waitlist/").concat(n),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}).then(function(e){return e.json()}).then(function(e){var t,o;(a(!1),console.log(e),2e3===e.code)?null!==(t=e.data)&&void 0!==t&&null!==(o=t.user)&&void 0!==o&&o.email?S():L(n,e.data.token):d("Invalid OTP")}).catch(function(){a(!1),d("Something went wrong while submitting OTP")})}function L(e,t){o("Email"),d(""),v(""),r("Email"),l(function(){var n=i();n?(p(n,e,t),m(this)):d("Invalid email")})}function p(t,n,o){var i={token:o};a(!0),fetch("".concat(e,"/").concat(n,"/").concat(window.encodeURIComponent(t)),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}).then(function(e){return e.json()}).then(function(e){2e3===e.code?S():d("Error while submitting email")})}function S(){s(!1),d(""),o("You've been added to the waiting list")}window.onload=function(){var e=document.querySelector("#navOpenButton"),t=document.querySelector("#navLinks"),o=document.querySelector("#navCloseButton"),i=document.querySelectorAll("#getAccessHero, #getAccessBanner");e.addEventListener("click",function(){e.setAttribute("aria-expanded","true"),t.classList.add("duration-150"),t.classList.remove("hidden"),setTimeout(function(){t.classList.add("opacity-100","scale-100"),t.classList.remove("opacity-0","scale-95")},2)}),o.addEventListener("click",function(){e.setAttribute("aria-expanded","false"),t.classList.remove("duration-150","opacity-100","scale-100"),t.classList.add("duration-100","opacity-0","scale-95"),setTimeout(function(){t.classList.add("hidden")},150)}),i&&i.forEach(function(e){e.addEventListener("click",function(e){n(e.target,f)})})};
},{"./styles.scss":"I4sy"}]},{},["Focm"], null)
//# sourceMappingURL=src.b9db384c.js.map